<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proyecto replica - web componets - AnaG designWeb</title>
    <link rel="stylesheet" href="./styles/style.css">
</head>

<body>
    <!-- HEADER SECTION -->
    <header>
        <section class="section-hero section">
            <div class="section-hero-tittle">
                <div class="hero-title-border-animation">
                    <h1 class="hero-title-primary">OpenEU</h1>                
                </div>
                <div class="hero-title-border-animation">
                    <h2 class="hero-title-secondary">The Open European University</h2>
                </div>
            </div>                
            <div class="hero-scroll-animation">
                <span class="scroll-animation-span">scroll<br><img src="src/img/flecha-hacia-abajo.png" alt=""></span>
            </div>
        </section>
    </header>

    <!-- MAIN SECTION -->
    <main>
        <section class="section-mission section">
            <div class="centered-section">
                <div class="section-mission-container">
                    <div class="section-border">
                        <div class="slide-in-animation h1">
                            <p>more digital</p>
                        </div>
                        <div class="slide-in-animation h1">
                            <p>more innovative</p>
                        </div>
                        <div class="slide-in-animation h1">
                            <p>more diverse</p>
                        </div>
                        <div class="slide-in-animation h1">
                            <p>more flexible</p>
                        </div>
                        <div class="slide-in-animation h1">
                            <p>more learner-centred</p>
                        </div>
                        <div class="slide-in-animation h1">
                            <p>more sustainable</p>
                        </div>
                        <div class="slide-in-animation h1">
                            <p>more long-lasting</p>
                        </div>
                        <div class="slide-in-animation h1">
                            <p>The pan-European open university</p>
                        </div>
                    </div>
                    <img class="arrow" src="src/img/fletxa.svg" alt="" srcset="">
                </div>
                <div class="section-title h1">
                    <p>Our mission</p>
                </div>
                <div class="section-border h2">
                    <p>
                        01<br>
                        Establish a learner-centred, inclusive, digital and green open university with a European scope, widening access to quality higher education and lifelong learning to all.
                        <br><br>
                        02<br>
                        Contribute to the digital transformation of Higher Education Institutions, supporting them in the integration of digital technologies for education, resulting in the reinforcement and invigoration of the EHEA’s digital dimension
                    </p>
                </div>
            </div>
            <div class="section-mission-map">
                <img src="src/img/mapa2024.svg" alt="">
            </div>
        </section>
        <section class="section-numbers section">
            <div class="centered-section">
                <div class="section-title h1">
                    <p>OpenEU in figures</p>
                </div>
                <div class="section-numbers-container">
                    <article class="section-article-card section-border">
                        <div class="slide-in-animation"><img class="animation-img" loading="auto" src="src/img/xifra1.svg" alt="Number of students"></div>
                        <p class="h5">+<span class="counter">368,000</span></p>
                        <p class="h2">Number of students</p>
                        <p class="h2">Academic year: 2022/2023</p>
                    </article>

                    <article class="section-article-card section-border">
                        <div class="slide-in-animation"><img class="animation-img" loading="auto" src="src/img/xifra2.svg" height="150px" alt="Number of students"></div>
                        <p class="h5">+<span class="counter">709,000</span></p>
                        <p class="h2">Number of Graduates</p>
                    </article>

                    <article class="section-article-card section-border">
                        <div class="slide-in-animation"><img class="animation-img" loading="auto" src="src/img/xifra3.svg" height="150px" alt="Number of students"></div>
                        <p class="h5"><span class="counter">24,160</span></p>
                        <p class="h2">Total staff</p>
                    </article>

                    <article class="section-article-card section-border">
                        <div class="slide-in-animation"><img class="animation-img" loading="auto" src="src/img/xifra4.svg" height="150px" alt="Number of students"></div>
                        <p class="h5"><span class="counter">36</span></p>
                        <p class="h2">Average age of students</p>
                    </article>

                    <article class="section-article-card section-border">
                        <div class="slide-in-animation"><img class="animation-img" loading="auto" src="src/img/xifra5.svg" height="150px" alt="Number of students"></div>
                        <p class="h5"><span class="counter">84</span>%</p>
                        <p class="h2">of students work and study at the same time</p>
                    </article>

                    <article class="section-article-card section-border">
                        <p class="h2">We offer a wide range of...</p>
                        <div class="tags">
                            <span class="tag">Bachelors</span>
                            <span class="tag">Masters</span>
                            <span class="tag">Doctoral</span>
                            <span class="tag">Lifelong learning</span>
                            <span class="tag">Open courses</span>
                            <span class="tag">Exam preparation courses</span>
                            <span class="tag">Vocational training</span>
                        </div>
                    </article>

                    <article class="section-article-card section-border">
                        <p class="h5"><span class="counter">12</span></p>
                        <p class="h2">Study languages</p>
                        <div class="tags">
                            <span class="tag">Bulgarian</span>
                            <span class="tag">Catalan</span>
                            <span class="tag">Dutch</span>
                            <span class="tag">English</span>
                            <span class="tag">French</span>
                            <span class="tag">German</span>
                            <span class="tag">Greek</span>
                            <span class="tag">Icelandic</span>
                            <span class="tag">Latvian</span>
                            <span class="tag">Portuguese</span>
                            <span class="tag">Russian</span>
                            <span class="tag">Spanish</span>
                        </div>
                    </article>
                </div>
            </div>
        </section>
    </main>

    <!--  SCRIPTS para las animaciones -->
    <script>
        // ============ ANIMACION section-hero-tittle ============ //
        //Esta funcion es simplemente para ajustar el tamaño del contenedor padre que contiene los dos titulos, hace que el contenedor padre adopte el tamaño basandose en el tamaño del primero titulo (.h1).
        function initHeroTitleAnimation() {
            const h1 = document.querySelector('.section-hero-tittle .hero-title-primary');
            const h2 = document.querySelector('.section-hero-tittle .hero-title-secondary');
            if(h2) {
                const adjustWidth = () => {
                    h2.style.width = `${h1.offsetWidth}px`;
                };
                adjustWidth();
                window.addEventListener('resize', adjustWidth);               
            }
            
        }
    
        // Ejecuta la función al cargar el DOM
        document.addEventListener("DOMContentLoaded", initHeroTitleAnimation);
    </script>

    <script>
        // ============ ANIMACION slide-in-animation ============ //
        // funcion para activar la animacion cuando el elemento esta en pantalla
        // Utilizando IntersectionObserver
        function initSlideInOnViewport() {
            const animatedElements = document.querySelectorAll('.slide-in-animation');
    
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        // El elemento entra en el viewport: añade la clase para animar la entrada
                        entry.target.classList.add('visible');
                    } else {
                        // El elemento sale del viewport: quita la clase para reiniciar la animación
                        entry.target.classList.remove('visible');
                    }
                });
            }, {
                threshold: 1.0 // La animación se activa cuando el 100% del elemento sea visible
            });
    
            animatedElements.forEach(el => {
                observer.observe(el); // Para observa cada elemento con la clase slide-in-animation y saber si esta en el viewport
            });
        }
    
        // Ejecutar la función al cargar el DOM
        document.addEventListener("DOMContentLoaded", initSlideInOnViewport);
    </script>
    
    <script>
        // ============ ANIMACION section-numbers > article > (.counter) ============ //
        // funcion para activar la animacion cuando el elemento esta en pantalla Y animar los numeros
        // Utilizando setInterval para la animacion de los numeros y IntersectionObserver para saber cuando el elemento entra en pantalla
        function initNumberCounterAnimation() {
            const counters = document.querySelectorAll('.counter');

            counters.forEach(counter => {
                let startValue = 0;
                const endValue = parseInt(counter.textContent.replace(',', ''));
                const duration = 2000; // Duración total de la animación en milisegundos
                const increment = Math.ceil(endValue / (duration / 100));
                let interval;

                // Función que actualiza el número gradualmente
                function updateCounter() {
                    if (startValue < endValue) {
                        startValue += increment;
                        if (startValue > endValue) startValue = endValue;
                        counter.textContent = startValue.toLocaleString();
                    } else {
                        clearInterval(interval); // Detiene la animación al llegar al valor final
                    }
                }

                // IntersectionObserver para activar la animación cuando el elemento entre en el viewport
                const observer = new IntersectionObserver((entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            // Inicia la animación cuando el contador es visible
                            interval = setInterval(updateCounter, 25);
                        } else {
                            // Reinicia los valores del contador para que la animación se repita
                            clearInterval(interval);
                            startValue = 0;
                            counter.textContent = '0';
                        }
                    });
                }, {
                    threshold: 1.0 // Inicia la animación cuando el 100% del elemento es visible
                });

                // Observar cada contador
                observer.observe(counter);
            });
        }

        // Ejecutar la función al cargar el DOM
        document.addEventListener("DOMContentLoaded", initNumberCounterAnimation);
    </script>

</body>
</html>